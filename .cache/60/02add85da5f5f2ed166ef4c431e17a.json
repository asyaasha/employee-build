{"id":"../node_modules/@aws-sdk/middleware-retry/build/retryMiddleware.js","dependencies":[{"name":"/Users/a/Desktop/buildopsTest/package.json","includedInParent":true,"mtime":1588305991096},{"name":"/Users/a/Desktop/buildopsTest/node_modules/@aws-sdk/middleware-retry/package.json","includedInParent":true,"mtime":1588306092117},{"name":"tslib","loc":{"line":3,"column":22},"parent":"/Users/a/Desktop/buildopsTest/node_modules/@aws-sdk/middleware-retry/build/retryMiddleware.js","resolved":"/Users/a/Desktop/buildopsTest/node_modules/tslib/tslib.es6.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nfunction retryMiddleware(options) {\n    var _this = this;\n    return function (next) { return function (args) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n        return tslib_1.__generator(this, function (_a) {\n            return [2 /*return*/, options.retryStrategy.retry(next, args)];\n        });\n    }); }; };\n}\nexports.retryMiddleware = retryMiddleware;\nexports.retryMiddlewareOptions = {\n    name: \"retryMiddleware\",\n    tags: [\"RETRY\"],\n    step: \"finalizeRequest\",\n    priority: \"high\"\n};\nexports.getRetryPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        if (options.maxRetries > 0) {\n            clientStack.add(retryMiddleware(options), exports.retryMiddlewareOptions);\n        }\n    }\n}); };\n"},"sourceMaps":{"js":{"version":3,"file":"retryMiddleware.js","sourceRoot":"","sources":["../src/retryMiddleware.ts"],"names":[],"mappings":";;;AAWA,SAAgB,eAAe,CAAC,OAA4B;IAA5D,iBAQC;IAPC,OAAO,UACL,IAAkC,IACD,OAAA,UACjC,IAAmC;;YAEnC,sBAAO,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,EAAC;;SAChD,EAJkC,CAIlC,CAAC;AACJ,CAAC;AARD,0CAQC;AAEY,QAAA,sBAAsB,GACd;IACnB,IAAI,EAAE,iBAAiB;IACvB,IAAI,EAAE,CAAC,OAAO,CAAC;IACf,IAAI,EAAE,iBAAiB;IACvB,QAAQ,EAAE,MAAM;CACjB,CAAC;AAEW,QAAA,cAAc,GAAG,UAC5B,OAA4B,IACJ,OAAA,CAAC;IACzB,YAAY,EAAE,UAAA,WAAW;QACvB,IAAI,OAAO,CAAC,UAAU,GAAG,CAAC,EAAE;YAC1B,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE,8BAAsB,CAAC,CAAC;SACnE;IACH,CAAC;CACF,CAAC,EANwB,CAMxB,CAAC","sourcesContent":["import {\n  FinalizeHandler,\n  FinalizeHandlerArguments,\n  MetadataBearer,\n  FinalizeHandlerOutput,\n  Pluggable,\n  FinalizeRequestHandlerOptions,\n  AbsoluteLocation\n} from \"@aws-sdk/types\";\nimport { RetryResolvedConfig } from \"./configurations\";\n\nexport function retryMiddleware(options: RetryResolvedConfig) {\n  return <Output extends MetadataBearer = MetadataBearer>(\n    next: FinalizeHandler<any, Output>\n  ): FinalizeHandler<any, Output> => async (\n    args: FinalizeHandlerArguments<any>\n  ): Promise<FinalizeHandlerOutput<Output>> => {\n    return options.retryStrategy.retry(next, args);\n  };\n}\n\nexport const retryMiddlewareOptions: FinalizeRequestHandlerOptions &\n  AbsoluteLocation = {\n  name: \"retryMiddleware\",\n  tags: [\"RETRY\"],\n  step: \"finalizeRequest\",\n  priority: \"high\"\n};\n\nexport const getRetryPlugin = (\n  options: RetryResolvedConfig\n): Pluggable<any, any> => ({\n  applyToStack: clientStack => {\n    if (options.maxRetries > 0) {\n      clientStack.add(retryMiddleware(options), retryMiddlewareOptions);\n    }\n  }\n});\n"]}},"error":null,"hash":"cf3d18ce4260a95ec5a91ef93da2586b","cacheData":{"env":{}}}